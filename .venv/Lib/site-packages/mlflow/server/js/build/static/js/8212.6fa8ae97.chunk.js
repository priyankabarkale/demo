"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[8212],{3409:function(e,t,n){n.d(t,{tz:function(){return u},h:function(){return w},iE:function(){return S},nN:function(){return b},XQ:function(){return f},lh:function(){return y},Vn:function(){return Y},zZ:function(){return x},IT:function(){return C},T4:function(){return A},gy:function(){return M}});var o=n(68248),a=n(46709),r=n(27757),s=n(82716),i=n(40724),l=n(70431),c=n(80739);var d=n(73408);const u=200,m=60;var g={name:"lugakg",styles:"font-weight:normal"};const f=({icon:e,title:t,value:n,subtitle:a})=>{const{theme:s}=(0,r.u)();return(0,d.FD)("div",{css:(0,o.AH)({marginBottom:s.spacing.lg},""),children:[(0,d.FD)("div",{css:(0,o.AH)({display:"flex",alignItems:"center",gap:s.spacing.xs},""),children:[(0,d.Y)("span",{css:(0,o.AH)({color:s.colors.textSecondary,display:"flex"},""),children:e}),(0,d.Y)(r.T.Text,{bold:!0,size:"lg",children:t})]}),void 0!==n&&(0,d.FD)(r.T.Title,{level:3,css:(0,o.AH)({margin:0,marginTop:s.spacing.sm},""),children:[n,a&&(0,d.FD)(d.FK,{children:[" ",(0,d.Y)(r.T.Text,{color:"secondary",css:g,children:a})]})]})]})},h=({children:e,height:t=280})=>{const{theme:n}=(0,r.u)();return(0,d.Y)("div",{css:(0,o.AH)({border:`1px solid ${n.colors.border}`,borderRadius:n.borders.borderRadiusMd,padding:n.spacing.lg,height:t,display:"flex",alignItems:"center",justifyContent:"center"},""),children:e})};var p={name:"1u1zie3",styles:"width:120px"},v={name:"m0jwvv",styles:"width:80px"},T={name:"82a6rk",styles:"flex:1"};const y=({height:e=280})=>{const{theme:t}=(0,r.u)();return(0,d.FD)("div",{css:(0,o.AH)({border:`1px solid ${t.colors.border}`,borderRadius:t.borders.borderRadiusMd,padding:t.spacing.lg,height:e,display:"flex",flexDirection:"column",gap:t.spacing.md},""),children:[(0,d.Y)(s.TitleSkeleton,{css:p}),(0,d.Y)(s.TitleSkeleton,{css:v}),(0,d.Y)("div",{css:T,children:(0,d.Y)(s.TableSkeleton,{lines:4})})]})},b=({height:e,message:t})=>(0,d.Y)(h,{height:e,children:(0,d.Y)(r.T.Text,{color:"error",children:t||(0,d.Y)(i.A,{id:"cp/h86",defaultMessage:"Failed to load chart data"})})}),S=({height:e,message:t})=>(0,d.Y)("div",{css:(0,o.AH)({height:e||"100%",display:"flex",alignItems:"center",justifyContent:"center"},""),children:(0,d.Y)(r.T.Text,{color:"secondary",children:t||(0,d.Y)(i.A,{id:"zwktEP",defaultMessage:"No data available for the selected time range"})})}),Y=({active:e,payload:t,label:n,formatter:a})=>{const{theme:s}=(0,r.u)();return e&&null!==t&&void 0!==t&&t.length?(0,d.FD)("div",{css:(0,o.AH)({backgroundColor:`${s.colors.backgroundPrimary}80`,backdropFilter:"blur(2px)",border:`1px solid ${s.colors.border}`,borderRadius:s.borders.borderRadiusMd,fontSize:s.typography.fontSizeSm,padding:s.spacing.sm,pointerEvents:"auto",marginLeft:-20,marginRight:-20},""),children:[n&&(0,d.Y)("div",{css:(0,o.AH)({fontWeight:500,marginBottom:s.spacing.xs},""),children:n}),(0,d.Y)("div",{css:(0,o.AH)({maxHeight:120,overflowY:"auto",overflowX:"hidden"},""),children:t.map((e,t)=>{const[n,r]=a?a(e.value,e.name):[e.value,e.name];return(0,d.FD)("div",{css:(0,o.AH)({display:"flex",alignItems:"center",gap:s.spacing.xs,paddingTop:s.spacing.xs,paddingBottom:s.spacing.xs},""),children:[(0,d.Y)("span",{css:(0,o.AH)({width:s.spacing.sm,height:s.spacing.sm,borderRadius:"50%",backgroundColor:e.color,flexShrink:0},"")}),(0,d.FD)("span",{css:(0,o.AH)({color:e.color},""),children:[r,":"]}),(0,d.Y)("span",{children:n})]},t)})})]}):null};function x(){const{theme:e}=(0,r.u)();return{tick:{fontSize:10,fill:e.colors.textSecondary,dy:e.spacing.sm},axisLine:!1,tickLine:!1,interval:"preserveStartEnd"}}function C(){const{theme:e}=(0,r.u)();return{tick:{fontSize:10,fill:e.colors.textSecondary},axisLine:!1,tickLine:!1,width:40}}function M(e){var t;const{theme:n}=(0,r.u)();return{formatter:e=>(0,d.Y)("span",{css:(0,o.AH)({color:n.colors.textPrimary,fontSize:n.typography.fontSizeSm,cursor:"pointer"},""),children:e}),wrapperStyle:{maxHeight:null!==(t=null===e||void 0===e?void 0:e.maxHeight)&&void 0!==t?t:m,overflowY:"auto",overflowX:"hidden",paddingTop:n.spacing.xs}}}const w=({children:e,componentId:t,...n})=>{const{theme:s}=(0,r.u)(),i=function(e){const t=(0,a.useRef)((0,l.A)()),n=(0,a.useRef)(0),o=(0,c.R)();return{onClick:(0,a.useCallback)(()=>{if(!e)return;const a=Date.now();a-n.current<1e4||(n.current=a,o({componentId:e,componentViewId:t.current,componentType:r.f.Card,eventType:r.d.OnClick,value:"chart_interaction"}))},[e,o])}}(t);return(0,d.Y)("div",{css:(0,o.AH)({border:`1px solid ${s.colors.border}`,borderRadius:s.borders.borderRadiusMd,padding:s.spacing.lg,backgroundColor:s.colors.backgroundPrimary},""),...i,...n,children:e})};function A(){const{theme:e}=(0,r.u)();return{strokeOpacity:.3,fill:e.colors.blue200,fillOpacity:.3}}},14429:function(e,t,n){n.d(t,{KT:function(){return d},Pz:function(){return m},UY:function(){return g},VA:function(){return u},oy:function(){return c}});var o=n(46709),a=n(91105),r=n(79444);const s="startTimeLabel",i="startTime",l="endTime",c="LAST_7_DAYS",d=(0,o.createContext)(null),u=()=>{const e=(0,r.U)(),t=(0,o.useContext)(d),[n,u]=(0,a.ok)();let m,f,h;var p;t?(m=t.params.startTimeLabel||c,f=t.params.startTime,h=t.params.endTime):(m=n.get(s)||c,f=n.get(i)||void 0,h=null!==(p=n.get(l))&&void 0!==p?p:void 0);if("CUSTOM"!==m){const t=g(e.dateNow,{startTimeLabel:m});f=t.startTime,h=t.endTime}const v=(0,o.useMemo)(()=>({startTimeLabel:m,startTime:f,endTime:h}),[m,f,h]),T=(0,o.useCallback)((e,n=!1)=>{t?t.setParams(null!==e&&void 0!==e?e:{startTimeLabel:void 0,startTime:void 0,endTime:void 0},n):u(t=>(void 0===(null===e||void 0===e?void 0:e.startTime)?t.delete(i):"CUSTOM"===e.startTimeLabel&&t.set(i,e.startTime),void 0===(null===e||void 0===e?void 0:e.endTime)?t.delete(l):"CUSTOM"===e.startTimeLabel&&t.set(l,e.endTime),void 0===(null===e||void 0===e?void 0:e.startTimeLabel)?t.delete(s):t.set(s,e.startTimeLabel),t),{replace:n})},[t,u]);return[v,T,Boolean(n.has(s)||(null===t||void 0===t?void 0:t.disableAutomaticInitialization))]},m=()=>{const[e]=u();return(0,o.useMemo)(()=>{const{startTime:t,endTime:n}=e;return{startTime:t?new Date(t).getTime().toString():void 0,endTime:n?new Date(n).getTime().toString():void 0}},[e])};function g(e,t){return t.startTimeLabel&&"CUSTOM"!==t.startTimeLabel?function(e,t){switch(t){case"LAST_HOUR":return{startTime:new Date(new Date(e).setUTCHours((new Date).getUTCHours()-1)).toISOString(),endTime:e.toISOString()};case"LAST_24_HOURS":return{startTime:new Date(new Date(e).setUTCDate((new Date).getUTCDate()-1)).toISOString(),endTime:e.toISOString()};case"LAST_7_DAYS":return{startTime:new Date(new Date(e).setUTCDate((new Date).getUTCDate()-7)).toISOString(),endTime:e.toISOString()};case"LAST_30_DAYS":return{startTime:new Date(new Date(e).setUTCDate((new Date).getUTCDate()-30)).toISOString(),endTime:e.toISOString()};case"LAST_YEAR":return{startTime:new Date(new Date(e).setUTCFullYear((new Date).getUTCFullYear()-1)).toISOString(),endTime:e.toISOString()};case"ALL":return{startTime:void 0,endTime:e.toISOString()};default:throw new Error(`Unexpected start time label: ${t}`)}}(e,t.startTimeLabel):{startTime:t.startTime,endTime:t.endTime}}},23327:function(e,t,n){n.d(t,{o:function(){return i}});var o=n(49708),a=n(61077),r=n(90935);const s="traceMetrics";function i({experimentId:e,startTimeMs:t,endTimeMs:n,viewType:i,metricName:l,aggregations:c,timeIntervalSeconds:d,filters:u,dimensions:m,enabled:g=!0}){const f={experiment_ids:[e],view_type:i,metric_name:l,aggregations:c,time_interval_seconds:d,start_time_ms:t,end_time_ms:n,filters:u,dimensions:m};return(0,o.I)({queryKey:[s,e,t,n,i,l,c,d,u,m],queryFn:async()=>await async function(e){return(0,a.qP)((0,a.we)("ajax-api/3.0/mlflow/traces/metrics"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).catch(r.J)}(f),enabled:!!e&&g,refetchOnWindowFocus:!1})}},38212:function(e,t,n){n.r(t),n.d(t,{default:function(){return ye}});var o=n(68248),a=n(46709),r=n(59930),s=n.n(r),i=n(91105),l=n(27757),c=n(82716),d=n(40724),u=n(67689),m=n(84411),g=n(14429),f=n(79444),h=n(73408);const p=a.lazy(()=>Promise.all([n.e(4432),n.e(8614)]).then(n.bind(n,48614)).then(e=>({default:e.TraceRequestsChart}))),v=()=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(c.LegacySkeleton,{active:!0}),children:(0,h.Y)(p,{})}),T=a.lazy(()=>Promise.all([n.e(4432),n.e(5714),n.e(1078)]).then(n.bind(n,81078)).then(e=>({default:e.TraceLatencyChart}))),y=()=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(c.LegacySkeleton,{active:!0}),children:(0,h.Y)(T,{})}),b=a.lazy(()=>Promise.all([n.e(4432),n.e(5714),n.e(6809),n.e(2673)]).then(n.bind(n,72673)).then(e=>({default:e.TraceErrorsChart}))),S=()=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(c.LegacySkeleton,{active:!0}),children:(0,h.Y)(b,{})}),Y=a.lazy(()=>Promise.all([n.e(4432),n.e(6809),n.e(767)]).then(n.bind(n,90767)).then(e=>({default:e.TraceTokenUsageChart}))),x=()=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(c.LegacySkeleton,{active:!0}),children:(0,h.Y)(Y,{})}),C=a.lazy(()=>Promise.all([n.e(4432),n.e(5714),n.e(2841)]).then(n.bind(n,92841)).then(e=>({default:e.TraceTokenStatsChart}))),M=()=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(c.LegacySkeleton,{active:!0}),children:(0,h.Y)(C,{})});var w=n(58663),A=n(23327),D=n(69983);var k=n(3409);const L=a.lazy(()=>Promise.all([n.e(4432),n.e(5714),n.e(4768)]).then(n.bind(n,34768)).then(e=>({default:e.TraceAssessmentChart}))),N=e=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(c.LegacySkeleton,{active:!0}),children:(0,h.Y)(L,{...e})});var _=n(83110),I=n(66916),F=n(7655),O=n(19112),R=n(92338);var E={name:"1blwlv5",styles:"flex:1;flex-direction:column;display:flex;align-items:center;justify-content:center"},U={name:"xvginl",styles:"max-width:600px"},H={name:"bjn8wh",styles:"position:relative"};const P=({hasAssessmentsOutsideTimeRange:e=!1})=>{const{theme:t}=(0,l.u)(),n=(0,F.A)(),[r]=(0,g.VA)(),s=(0,a.useMemo)(()=>(0,R.p)(n),[n]),{experimentId:i}=(0,D.W)(),u=(0,a.useMemo)(()=>(e=>`import openai\n\nimport mlflow\nfrom mlflow.genai.scorers import Correctness\n\nmlflow.set_tracking_uri(YOUR_TRACKING_URI)\nmlflow.set_experiment(experiment_id="${e}")\n\n# Define your model's predict function\ndef my_model(question: str) -> str:\n    response = openai.OpenAI().chat.completions.create(\n        model="gpt-4o-mini",\n        messages=[{"role": "user", "content": question}],\n    )\n    return response.choices[0].message.content\n\neval_dataset = [\n    {\n        "inputs": {"question": "How do I log a model with MLflow?"},\n        "expectations": {\n            "expected_response": "You can log a model by using the mlflow.<flavor>.log_model function."\n        },\n    },\n]\n\n# Run evaluation with built-in scorer Correctness\nmlflow.genai.evaluate(\n    data=eval_dataset,\n    predict_fn=my_model,\n    scorers=[Correctness()],\n)`)(i),[i]);if(e){var m;const e=(null===(m=s.find(e=>e.key===r.startTimeLabel))||void 0===m?void 0:m.label)||"";return(0,h.Y)(c.Empty,{image:(0,h.Y)(I.S,{}),title:(0,h.Y)(d.A,{id:"AHaom4",defaultMessage:"No assessments available"}),description:(0,h.FD)(h.FK,{children:[(0,h.Y)(d.A,{id:"yzf17M",defaultMessage:'Some assessments are hidden by your time range filter: "{filterLabel}".',values:{filterLabel:(0,h.Y)("strong",{children:e})}}),(0,h.Y)("br",{}),(0,h.Y)(d.A,{id:"bUdkau",defaultMessage:"Try selecting a longer time range."})]})})}return(0,h.FD)("div",{css:E,children:[(0,h.Y)(l.T.Text,{color:"secondary",css:(0,o.AH)({marginBottom:t.spacing.lg},""),children:(0,h.Y)(d.A,{id:"AHaom4",defaultMessage:"No assessments available"})}),(0,h.Y)(l.T.Title,{level:3,color:"secondary",children:(0,h.Y)(d.A,{id:"HF6L/f",defaultMessage:"Monitor quality metrics from scorers"})}),(0,h.FD)(l.T.Paragraph,{color:"secondary",css:U,children:[(0,h.Y)(d.A,{id:"NnO0Lz",defaultMessage:"MLflow allows you to evaluate your GenAI applications using scorers. Scorers compute quality metrics like relevance, correctness, and custom assessments. Copy the code snippet below to run an evaluation, or visit the documentation for a more in-depth example."}),(0,h.Y)(l.T.Link,{componentId:"mlflow.quality_tab.empty_state.learn_more_link",css:(0,o.AH)({marginLeft:t.spacing.xs},""),href:"https://mlflow.org/docs/latest/genai/eval-monitor/",openInNewTab:!0,children:(0,h.Y)(d.A,{id:"tiQptW",defaultMessage:"Learn more"})})]}),(0,h.FD)("div",{css:H,children:[(0,h.Y)(O.VE,{componentId:"mlflow.overview.quality_tab.empty_state.example_code_copy",css:(0,o.AH)({position:"absolute",top:t.spacing.xs,right:t.spacing.xs},""),copyText:u}),(0,h.Y)(O.z7,{language:"python",showLineNumbers:!0,children:u})]})]})};var B=n(46956);var z={name:"1fttcpj",styles:"display:flex;flex-direction:column"},V={name:"r0pyvo",styles:"max-height:300px;overflow-y:auto"};const $=({assessmentNames:e,countsByName:t,avgValuesByName:n})=>{const{theme:r}=(0,l.u)(),{getChartColor:s}=(0,_.yC)(),{sortColumn:i,sortDirection:u,handleSort:m}=(0,B.bf)("totalCount"),{headerRowStyle:g,bodyRowStyle:f,cellStyle:p}=(0,B.aP)("minmax(80px, 2fr) 1fr 1fr"),v=(0,a.useMemo)(()=>e.map(e=>({scorerName:e,totalCount:t.get(e),avgValue:n.get(e)})),[e,t,n]),T=(0,a.useMemo)(()=>v.length?[...v].sort((e,t)=>{let n=0;switch(i){case"scorerName":n=e.scorerName.localeCompare(t.scorerName);break;case"totalCount":n=e.totalCount-t.totalCount;break;case"avgValue":var o,a;n=(null!==(o=e.avgValue)&&void 0!==o?o:-1/0)-(null!==(a=t.avgValue)&&void 0!==a?a:-1/0);break}return"asc"===u?n:-n}):v,[v,i,u]);return(0,h.FD)(k.h,{componentId:"mlflow.overview.quality.quality_summary_table",children:[(0,h.Y)(k.XQ,{icon:(0,h.Y)(c.SparkleIcon,{css:(0,o.AH)({color:r.colors.yellow500},"")}),title:(0,h.Y)(d.A,{id:"VDf1X1",defaultMessage:"Quality Summary"})}),(0,h.FD)("div",{css:z,children:[(0,h.FD)("div",{css:g,children:[(0,h.Y)(B.y_,{column:"scorerName",sortColumn:i,sortDirection:u,onSort:m,children:(0,h.Y)(d.A,{id:"FoMjFN",defaultMessage:"Scorer"})}),(0,h.Y)(B.y_,{column:"totalCount",sortColumn:i,sortDirection:u,onSort:m,centered:!0,children:(0,h.Y)(d.A,{id:"7yW27D",defaultMessage:"Total Count"})}),(0,h.Y)(B.y_,{column:"avgValue",sortColumn:i,sortDirection:u,onSort:m,centered:!0,children:(0,h.Y)(d.A,{id:"bmBV9A",defaultMessage:"Average Value"})})]}),(0,h.Y)("div",{css:V,children:T.map((t,n)=>{const o=e.indexOf(t.scorerName),a=-1===o?n:o;return(0,h.FD)("div",{css:f,children:[(0,h.Y)(B.kY,{name:t.scorerName,color:s(a),scrollToElementId:`assessment-chart-${t.scorerName}`}),(0,h.Y)(l.T.Text,{css:p,children:(0,_.B4)(t.totalCount)}),(0,h.Y)(l.T.Text,{css:p,children:(r=t.avgValue,void 0===r?"-":r.toFixed(2))})]},t.scorerName);var r})})]})]})},j=()=>{const{theme:e}=(0,l.u)(),{assessmentNames:t,avgValuesByName:n,countsByName:r,isLoading:s,error:i,hasData:u}=function(){const{experimentId:e,startTimeMs:t,endTimeMs:n}=(0,D.W)(),o=(0,a.useMemo)(()=>[(0,w.$L)(w.mg.TYPE,w.AN.FEEDBACK)],[]),{data:r,isLoading:s,error:i}=(0,A.o)({experimentId:e,startTimeMs:t,endTimeMs:n,viewType:w.mW.ASSESSMENTS,metricName:w.cs.ASSESSMENT_COUNT,aggregations:[{aggregation_type:w.DF.COUNT}],filters:o,dimensions:[w.gV.ASSESSMENT_NAME]}),{data:l,isLoading:c,error:d}=(0,A.o)({experimentId:e,startTimeMs:t,endTimeMs:n,viewType:w.mW.ASSESSMENTS,metricName:w.cs.ASSESSMENT_VALUE,aggregations:[{aggregation_type:w.DF.AVG}],filters:o,dimensions:[w.gV.ASSESSMENT_NAME]}),{assessmentNames:u,countsByName:m}=(0,a.useMemo)(()=>{if(null===r||void 0===r||!r.data_points)return{assessmentNames:[],countsByName:new Map};const e=new Set,t=new Map;for(const a of r.data_points){var n,o;const r=null===(n=a.dimensions)||void 0===n?void 0:n[w.gV.ASSESSMENT_NAME],s=null===(o=a.values)||void 0===o?void 0:o[w.DF.COUNT];r&&void 0!==s&&(e.add(r),t.set(r,s))}return{assessmentNames:Array.from(e).sort(),countsByName:t}},[null===r||void 0===r?void 0:r.data_points]);return{assessmentNames:u,avgValuesByName:(0,a.useMemo)(()=>{if(null===l||void 0===l||!l.data_points)return new Map;const e=new Map;for(const o of l.data_points){var t,n;const a=null===(t=o.dimensions)||void 0===t?void 0:t[w.gV.ASSESSMENT_NAME],r=null===(n=o.values)||void 0===n?void 0:n[w.DF.AVG];a&&void 0!==r&&e.set(a,r)}return e},[null===l||void 0===l?void 0:l.data_points]),countsByName:m,isLoading:s||c,error:i||d,hasData:u.length>0}}(),{hasAssessmentsOutsideTimeRange:m,isLoading:g}=function(e){const{experimentId:t}=(0,D.W)(),n=(0,a.useMemo)(()=>[(0,w.$L)(w.mg.TYPE,w.AN.FEEDBACK)],[]),{data:o,isLoading:r,error:s}=(0,A.o)({experimentId:t,startTimeMs:void 0,endTimeMs:void 0,viewType:w.mW.ASSESSMENTS,metricName:w.cs.ASSESSMENT_COUNT,aggregations:[{aggregation_type:w.DF.COUNT}],filters:n,dimensions:[w.gV.ASSESSMENT_NAME],enabled:e});return{hasAssessmentsOutsideTimeRange:(0,a.useMemo)(()=>!(null===o||void 0===o||!o.data_points)&&o.data_points.length>0,[null===o||void 0===o?void 0:o.data_points]),isLoading:r,error:s}}(!u&&!s),{getChartColor:f}=(0,_.yC)();return s||!u&&g?(0,h.Y)(k.lh,{}):i?(0,h.Y)(k.nN,{}):u?(0,h.FD)("div",{css:(0,o.AH)({display:"flex",flexDirection:"column",gap:e.spacing.md},""),children:[(0,h.FD)("div",{children:[(0,h.FD)("div",{css:(0,o.AH)({display:"flex",alignItems:"center",gap:e.spacing.xs,marginBottom:e.spacing.xs},""),children:[(0,h.Y)(c.SparkleIcon,{css:(0,o.AH)({color:e.colors.yellow500},"")}),(0,h.Y)(l.T.Text,{bold:!0,size:"lg",children:(0,h.Y)(d.A,{id:"ic8x74",defaultMessage:"Quality Insights"})})]}),(0,h.Y)(l.T.Text,{color:"secondary",children:(0,h.Y)(d.A,{id:"o0NwZU",defaultMessage:"Quality metrics computed by scorers."})})]}),(0,h.Y)($,{assessmentNames:t,countsByName:r,avgValuesByName:n}),t.map((e,t)=>(0,h.Y)("div",{id:`assessment-chart-${e}`,children:(0,h.Y)(N,{assessmentName:e,lineColor:f(t),avgValue:n.get(e)})},e))]}):(0,h.Y)(P,{hasAssessmentsOutsideTimeRange:m})};var W={name:"1fttcpj",styles:"display:flex;flex-direction:column"},q={name:"xjt14x",styles:"width:60%"};const K=({icon:e,iconColor:t,iconBgColor:n,value:a,label:r,isLoading:s})=>{const{theme:i}=(0,l.u)();return(0,h.FD)("div",{css:(0,o.AH)({display:"flex",alignItems:"center",gap:i.spacing.sm,padding:`${i.spacing.sm}px ${i.spacing.md}px`,backgroundColor:i.colors.backgroundPrimary,borderRadius:i.borders.borderRadiusMd,border:`1px solid ${i.colors.border}`,flex:1,minWidth:160},""),children:[(0,h.Y)("div",{css:(0,o.AH)({display:"flex",alignItems:"center",justifyContent:"center",width:i.general.iconSize,height:i.general.iconSize,borderRadius:i.borders.borderRadiusMd,backgroundColor:n,color:t,flexShrink:0},""),children:e}),(0,h.FD)("div",{css:W,children:[s?(0,h.Y)(c.TitleSkeleton,{css:q}):(0,h.Y)(l.T.Text,{bold:!0,size:"lg",children:a}),(0,h.Y)(l.T.Text,{color:"secondary",size:"sm",children:r})]})]})},Q=({children:e})=>{const{theme:t}=(0,l.u)();return(0,h.Y)("div",{css:(0,o.AH)({display:"flex",flexDirection:"column",gap:t.spacing.lg,padding:`${t.spacing.md}px 0`},""),children:e})},G=({children:e})=>{const{theme:t}=(0,l.u)();return(0,h.Y)("div",{css:(0,o.AH)({display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:t.spacing.lg},""),children:e})},X=()=>{const{theme:e}=(0,l.u)(),{totalCalls:t,failedCalls:n,successRate:r,avgLatency:s,isLoading:i,error:u}=function(){var e,t,n;const{experimentId:o,startTimeMs:r,endTimeMs:s}=(0,D.W)(),i=(0,a.useMemo)(()=>[(0,w.jm)(w.Mm.TYPE,w.du.TOOL)],[]),{data:l,isLoading:c,error:d}=(0,A.o)({experimentId:o,startTimeMs:r,endTimeMs:s,viewType:w.mW.SPANS,metricName:w.Ub.SPAN_COUNT,aggregations:[{aggregation_type:w.DF.COUNT}],filters:i,dimensions:[w.it.SPAN_STATUS]}),{data:u,isLoading:m,error:g}=(0,A.o)({experimentId:o,startTimeMs:r,endTimeMs:s,viewType:w.mW.SPANS,metricName:w.Ub.LATENCY,aggregations:[{aggregation_type:w.DF.AVG}],filters:i}),{totalCalls:f,successCalls:h,failedCalls:p}=(0,a.useMemo)(()=>{if(null===l||void 0===l||!l.data_points)return{totalCalls:0,successCalls:0,failedCalls:0};let e=0,t=0,n=0;for(const r of l.data_points){var o,a;const s=(null===(o=r.values)||void 0===o?void 0:o[w.DF.COUNT])||0,i=null===(a=r.dimensions)||void 0===a?void 0:a[w.it.SPAN_STATUS];e+=s,i===w.Fp.OK?t+=s:i===w.Fp.ERROR&&(n+=s)}return{totalCalls:e,successCalls:t,failedCalls:n}},[null===l||void 0===l?void 0:l.data_points]);return{totalCalls:f,successCalls:h,failedCalls:p,successRate:f>0?h/f*100:0,avgLatency:(null===u||void 0===u||null===(e=u.data_points)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.values)||void 0===n?void 0:n[w.DF.AVG])||0,isLoading:c||m,error:d||g}}();return u?(0,h.Y)(k.nN,{}):(0,h.FD)("div",{css:(0,o.AH)({display:"flex",gap:e.spacing.md,flexWrap:"wrap"},""),children:[(0,h.Y)(K,{icon:(0,h.Y)(c.WrenchIcon,{}),iconColor:e.colors.blue600,iconBgColor:e.colors.blue100,value:(0,_.B4)(t),label:(0,h.Y)(d.A,{id:"wvuSAK",defaultMessage:"Total Tool Calls"}),isLoading:i}),(0,h.Y)(K,{icon:(0,h.Y)(I.C,{}),iconColor:e.colors.yellow600,iconBgColor:e.colors.yellow100,value:(0,_.YL)(s),label:(0,h.Y)(d.A,{id:"yRzU8K",defaultMessage:"Avg Latency"}),isLoading:i}),(0,h.Y)(K,{icon:(0,h.Y)(c.CheckCircleIcon,{}),iconColor:e.colors.green600,iconBgColor:e.colors.green100,value:`${r.toFixed(2)}%`,label:(0,h.Y)(d.A,{id:"961sxj",defaultMessage:"Success Rate"}),isLoading:i}),(0,h.Y)(K,{icon:(0,h.Y)(I.X,{}),iconColor:e.colors.red600,iconBgColor:e.colors.red100,value:(0,_.B4)(n),label:(0,h.Y)(d.A,{id:"oWtdfc",defaultMessage:"Failed Calls"}),isLoading:i})]})};const J=a.lazy(()=>Promise.all([n.e(4432),n.e(5714),n.e(8472)]).then(n.bind(n,38472)).then(e=>({default:e.ToolErrorRateChart}))),Z=e=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(k.lh,{}),children:(0,h.Y)(J,{...e})}),ee=()=>{const{getChartColor:e}=(0,_.yC)(),{toolNames:t,errorRateByTool:n,isLoading:o,error:r,hasData:s}=function(){const{experimentId:e,startTimeMs:t,endTimeMs:n}=(0,D.W)(),o=(0,a.useMemo)(()=>[(0,w.jm)(w.Mm.TYPE,w.du.TOOL)],[]),{data:r,isLoading:s,error:i}=(0,A.o)({experimentId:e,startTimeMs:t,endTimeMs:n,viewType:w.mW.SPANS,metricName:w.Ub.SPAN_COUNT,aggregations:[{aggregation_type:w.DF.COUNT}],filters:o,dimensions:[w.it.SPAN_NAME,w.it.SPAN_STATUS]}),{toolNames:l,errorRateByTool:c}=(0,a.useMemo)(()=>{if(null===r||void 0===r||!r.data_points)return{toolNames:[],errorRateByTool:new Map};const e=new Map;for(const s of r.data_points){var t,n,o;const a=null===(t=s.dimensions)||void 0===t?void 0:t[w.it.SPAN_NAME];if(!a)continue;const r=(null===(n=s.values)||void 0===n?void 0:n[w.DF.COUNT])||0,i=null===(o=s.dimensions)||void 0===o?void 0:o[w.it.SPAN_STATUS];e.has(a)||e.set(a,{error:0,total:0});const l=e.get(a);l.total+=r,i===w.Fp.ERROR&&(l.error+=r)}const a=new Map;for(const[r,{error:s,total:i}]of e)a.set(r,i>0?s/i*100:0);return{toolNames:Array.from(e.keys()).sort(),errorRateByTool:a}},[null===r||void 0===r?void 0:r.data_points]);return{toolNames:l,errorRateByTool:c,isLoading:s,error:i,hasData:l.length>0}}();return o?(0,h.Y)(k.lh,{}):r?(0,h.Y)(k.nN,{}):s?(0,h.Y)(G,{children:t.map((t,o)=>{var a;return(0,h.Y)("div",{id:`tool-chart-${t}`,children:(0,h.Y)(Z,{toolName:t,lineColor:e(o),overallErrorRate:null!==(a=n.get(t))&&void 0!==a?a:0})},t)})}):null},te=a.lazy(()=>Promise.all([n.e(4432),n.e(5910)]).then(n.bind(n,25910)).then(e=>({default:e.ToolUsageChart}))),ne=()=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(k.lh,{}),children:(0,h.Y)(te,{})}),oe=a.lazy(()=>Promise.all([n.e(4432),n.e(5714),n.e(5679)]).then(n.bind(n,55679)).then(e=>({default:e.ToolLatencyChart}))),ae=()=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(k.lh,{}),children:(0,h.Y)(oe,{})}),re=a.lazy(()=>n.e(8462).then(n.bind(n,18462)).then(e=>({default:e.ToolPerformanceSummary}))),se=()=>(0,h.Y)(a.Suspense,{fallback:(0,h.Y)(k.lh,{}),children:(0,h.Y)(re,{})});let ie=function(e){return e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day",e.Month="month",e.Year="year",e}({});const le={[ie.Second]:1,[ie.Minute]:60,[ie.Hour]:3600,[ie.Day]:86400,[ie.Month]:2592e3,[ie.Year]:31536e3};function ce(e,t,n){const o=function(e,t,n){if(!e||!t)return 0;const o=(t-e)/1e3;return Math.ceil(o/le[n])}(e,t,n);return o<=1e3}const de=({value:e,onChange:t,startTimeMs:n,endTimeMs:o,onClear:r,allowClear:s=!1})=>{const i=(0,F.A)(),l=i.formatMessage({id:"ki5dBO",defaultMessage:"Time Unit"}),d=(0,a.useMemo)(()=>[{value:ie.Second,label:i.formatMessage({id:"NjTPKb",defaultMessage:"Second"})},{value:ie.Minute,label:i.formatMessage({id:"TLfh74",defaultMessage:"Minute"})},{value:ie.Hour,label:i.formatMessage({id:"0eoz8L",defaultMessage:"Hour"})},{value:ie.Day,label:i.formatMessage({id:"Smixdu",defaultMessage:"Day"})},{value:ie.Month,label:i.formatMessage({id:"9UmYIH",defaultMessage:"Month"})},{value:ie.Year,label:i.formatMessage({id:"MHWark",defaultMessage:"Year"})}].filter(e=>ce(n,o,e.value)),[i,n,o]),u=d.find(t=>t.value===e);return(0,h.FD)(c.DialogCombobox,{componentId:"mlflow.experiment.overview.time-unit-selector",label:l,value:[e],children:[(0,h.Y)(c.DialogComboboxTrigger,{renderDisplayedValue:()=>null===u||void 0===u?void 0:u.label,allowClear:s,onClear:r,"data-testid":"time-unit-select-dropdown"}),(0,h.Y)(c.DialogComboboxContent,{children:(0,h.Y)(c.DialogComboboxOptionList,{children:d.map(n=>(0,h.Y)(c.DialogComboboxOptionListSelectItem,{checked:e===n.value,title:n.label,value:n.value,onChange:()=>t(n.value),children:n.label},n.value))})})]})};let ue=function(e){return e.Usage="usage",e.Quality="quality",e.ToolCalls="tool-calls",e}({});const me=ue.Usage;var ge={name:"3z2sxu",styles:"display:flex;flex-direction:column;flex:1;overflow:hidden"},fe={name:"l2hjmg",styles:"display:flex;flex-direction:column;flex:1;min-height:0"},he={name:"9jwnf3",styles:"flex:1;overflow-y:auto"},pe={name:"9jwnf3",styles:"flex:1;overflow-y:auto"},ve={name:"9jwnf3",styles:"flex:1;overflow-y:auto"};const Te=()=>{const{experimentId:e}=(0,i.g)(),{theme:t}=(0,l.u)(),[n,r]=(()=>{const{experimentId:e,overviewTab:t}=(0,i.g)(),n=(0,i.Zp)(),o=(0,i.zy)();return[Object.values(ue).includes(t)?t:me,(0,a.useCallback)(t=>{n(`/experiments/${e}/overview/${t}${o.search}`,{replace:!0})},[e,n,o.search])]})(),[p,T]=(0,a.useState)(null),b=(0,u.x$)();s()(e,"Experiment ID must be defined");const[Y]=(0,g.VA)(),C=(0,f.U)(),{startTime:w,endTime:A}=(0,a.useMemo)(()=>(0,g.UY)(C.dateNow,Y),[C.dateNow,Y]),k=w?new Date(w).getTime():void 0,L=A?new Date(A).getTime():void 0,N=function(e,t){if(!e||!t)return ie.Day;const n=(t-e)/1e3;return n<=le[ie.Hour]?ie.Minute:n<=le[ie.Day]?ie.Hour:n<=le[ie.Month]?ie.Day:n<=le[ie.Year]?ie.Month:ie.Year}(k,L);(0,a.useEffect)(()=>{p&&!ce(k,L,p)&&T(null)},[k,L,p]);const I=null!==p&&void 0!==p?p:N,F=le[I],O=(0,a.useMemo)(()=>(0,_.yB)(k,L,F),[k,L,F]);return(0,h.FD)("div",{css:ge,children:[b&&(0,h.Y)(c.Alert,{componentId:"mlflow.experiment.overview.filestore-warning",type:"warning",css:(0,o.AH)({marginBottom:t.spacing.sm},""),message:(0,h.Y)(d.A,{id:"mYcueV",defaultMessage:"The Overview tab requires a SQL-based tracking store for full functionality, file-based backend is not supported."})}),(0,h.FD)(c.Tabs.Root,{componentId:"mlflow.experiment.overview.tabs",value:n,onValueChange:e=>r(e),valueHasNoPii:!0,css:fe,children:[(0,h.FD)(c.Tabs.List,{children:[(0,h.Y)(c.Tabs.Trigger,{value:ue.Usage,children:(0,h.Y)(d.A,{id:"ecUdab",defaultMessage:"Usage"})}),(0,h.Y)(c.Tabs.Trigger,{value:ue.Quality,children:(0,h.Y)(d.A,{id:"lRO4km",defaultMessage:"Quality"})}),(0,h.Y)(c.Tabs.Trigger,{value:ue.ToolCalls,children:(0,h.Y)(d.A,{id:"a9kRlY",defaultMessage:"Tool calls"})})]}),(0,h.FD)("div",{css:(0,o.AH)({display:"flex",alignItems:"center",gap:t.spacing.sm},""),children:[(0,h.Y)(de,{value:I,onChange:T,startTimeMs:k,endTimeMs:L,allowClear:null!==p&&p!==N,onClear:()=>T(null)}),(0,h.Y)(m.$,{excludeOptions:["ALL"],refreshButtonComponentId:"mlflow.experiment.overview.refresh-button"})]}),(0,h.FD)(D.F,{experimentId:e,startTimeMs:k,endTimeMs:L,timeIntervalSeconds:F,timeBuckets:O,children:[(0,h.Y)(c.Tabs.Content,{value:ue.Usage,css:he,children:(0,h.FD)(Q,{children:[(0,h.Y)(v,{}),(0,h.FD)(G,{children:[(0,h.Y)(y,{}),(0,h.Y)(S,{})]}),(0,h.FD)(G,{children:[(0,h.Y)(x,{}),(0,h.Y)(M,{})]})]})}),(0,h.Y)(c.Tabs.Content,{value:ue.Quality,css:pe,children:(0,h.Y)(Q,{children:(0,h.Y)(j,{})})}),(0,h.Y)(c.Tabs.Content,{value:ue.ToolCalls,css:ve,children:(0,h.FD)(Q,{children:[(0,h.Y)(X,{}),(0,h.Y)(se,{}),(0,h.FD)(G,{children:[(0,h.Y)(ne,{}),(0,h.Y)(ae,{})]}),(0,h.Y)(ee,{})]})})]})]})]})};var ye=()=>(0,h.Y)(f.k,{children:(0,h.Y)(Te,{})})},46956:function(e,t,n){n.d(t,{aP:function(){return d},bf:function(){return l},kY:function(){return u},y_:function(){return c}});var o=n(68248),a=n(46709),r=n(82716),s=n(27757),i=n(73408);function l(e,t="desc"){const[n,o]=(0,a.useState)(e),[r,s]=(0,a.useState)(t),i=(0,a.useCallback)(e=>{n===e?s("asc"===r?"desc":"asc"):(o(e),s("desc"))},[n,r]);return{sortColumn:n,sortDirection:r,handleSort:i}}function c({column:e,sortColumn:t,sortDirection:n,onSort:a,children:l,centered:c}){const{theme:d}=(0,s.u)();return(0,i.FD)("div",{role:"button",tabIndex:0,onClick:()=>a(e),onKeyDown:t=>"Enter"===t.key&&a(e),css:(0,o.AH)({display:"flex",alignItems:"center",gap:d.spacing.xs,cursor:"pointer",justifyContent:c?"center":"flex-start",color:d.colors.textSecondary,fontSize:d.typography.fontSizeSm,fontWeight:600,"&:hover":{color:d.colors.textPrimary}},""),children:[l,t===e&&("asc"===n?(0,i.Y)(r.SortAscendingIcon,{}):(0,i.Y)(r.SortDescendingIcon,{}))]})}function d(e){const{theme:t}=(0,s.u)(),n={display:"grid",gridTemplateColumns:e,gap:t.spacing.lg,borderBottom:`1px solid ${t.colors.border}`};return{rowStyle:n,headerRowStyle:{...n,padding:`${t.spacing.sm}px ${t.spacing.lg}px ${t.spacing.sm}px 0`},bodyRowStyle:{...n,padding:`${t.spacing.md}px ${t.spacing.lg}px ${t.spacing.md}px 0`,alignItems:"center","&:last-child":{borderBottom:"none"}},cellStyle:{textAlign:"center"}}}const u=({name:e,color:t,scrollToElementId:n})=>{const{theme:a}=(0,s.u)(),r=()=>{const e=document.getElementById(n);e&&e.scrollIntoView({behavior:"smooth",block:"start"})};return(0,i.FD)("div",{role:"button",tabIndex:0,onClick:r,onKeyDown:e=>"Enter"===e.key&&r(),css:(0,o.AH)({display:"flex",alignItems:"center",gap:a.spacing.sm,cursor:"pointer","&:hover":{textDecoration:"underline"}},""),children:[(0,i.Y)("div",{css:(0,o.AH)({width:8,height:8,borderRadius:"50%",backgroundColor:t,flexShrink:0},"")}),(0,i.Y)(s.T.Text,{css:(0,o.AH)({fontFamily:"monospace",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:a.colors.actionPrimaryBackgroundDefault},""),children:e})]})}},67689:function(e,t,n){n.d(t,{x$:function(){return l}});var o=n(49708),a=n(61077);const r="serverInfo",s={store_type:""};async function i(){try{const e=await fetch((0,a.we)("server-info"),{method:"GET"});return e.ok?e.json():s}catch{return s}}function l(){const{data:e}=(0,o.I)({queryKey:[r],queryFn:i,staleTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1});return e?"FileStore"===e.store_type:void 0}},69983:function(e,t,n){n.d(t,{F:function(){return s},W:function(){return i}});var o=n(46709),a=n(73408);const r=(0,o.createContext)(null),s=({children:e,experimentId:t,startTimeMs:n,endTimeMs:s,timeIntervalSeconds:i,timeBuckets:l})=>{const c=(0,o.useMemo)(()=>({experimentId:t,startTimeMs:n,endTimeMs:s,timeIntervalSeconds:i,timeBuckets:l}),[t,n,s,i,l]);return(0,a.Y)(r.Provider,{value:c,children:e})};function i(){const e=(0,o.useContext)(r);if(!e)throw new Error("useOverviewChartContext must be used within an OverviewChartProvider");return e}},79444:function(e,t,n){n.d(t,{U:function(){return c},k:function(){return l}});var o=n(76118),a=n(46709),r=n(73408);const s=()=>({dateNow:new Date,lastRefreshTime:Date.now(),refresh:()=>{}}),i=(0,a.createContext)(s()),l=({config:e,children:t})=>{const n=s(),l=(0,o.merge)({},n,e),[c,d]=a.useState(l.lastRefreshTime),u=(0,a.useMemo)(()=>new Date(c),[c]),m=(0,a.useCallback)(()=>{d(Date.now())},[]);return(0,r.Y)(i.Provider,{value:{...l,dateNow:u,lastRefreshTime:c,refresh:m},children:t})},c=()=>{const e=(0,a.useContext)(i);return e||s()}},83110:function(e,t,n){n.d(t,{B4:function(){return u},NM:function(){return i},RZ:function(){return f},YL:function(){return m},fq:function(){return l},pH:function(){return s},vx:function(){return d},yB:function(){return c},yC:function(){return g}});var o=n(46709),a=n(58663),r=n(27757);function s(e=1,t=.2){const[n,a]=(0,o.useState)(null),r=(0,o.useCallback)(o=>null===n||n===o?e:t,[n,e,t]),s=(0,o.useCallback)(e=>{a(e.value)},[]),i=(0,o.useCallback)(()=>{a(null)},[]);return{hoveredItem:n,getOpacity:r,handleLegendMouseEnter:s,handleLegendMouseLeave:i}}function i(e,t){return(0,o.useMemo)(()=>{const n=new Map;for(const r of e){var o;const e=null===(o=r.dimensions)||void 0===o?void 0:o[a.Ad];if(e){const o=new Date(e).getTime();n.set(o,t(r))}}return n},[e,t])}function l(e,t){let n;return n=t<=60?{hour:"2-digit",minute:"2-digit"}:t<=3600?{month:"numeric",day:"numeric",hour:"2-digit"}:t<=86400?{month:"numeric",day:"numeric"}:{month:"short",year:"2-digit"},new Date(e).toLocaleString([],n)}function c(e,t,n){if(!e||!t||n<=0)return[];const o=1e3*n,a=[];for(let r=Math.floor(e/o)*o;r<=t;r+=o)a.push(r);return a}function d(e){return{r:2,fill:e,strokeWidth:0}}function u(e){return e>=1e6?`${(e/1e6).toFixed(2)}M`:e>=1e3?`${(e/1e3).toFixed(2)}K`:e.toLocaleString()}function m(e){return e<1e3?`${e.toFixed(2)}ms`:`${(e/1e3).toFixed(2)}s`}function g(){const{theme:e}=(0,r.u)(),t=(0,o.useMemo)(()=>[e.colors.blue500,e.colors.green500,e.colors.yellow500,e.colors.red500,e.colors.blue300,e.colors.green300,e.colors.yellow300,e.colors.red300,e.colors.blue400,e.colors.green400,e.colors.yellow400,e.colors.red400,e.colors.blue600,e.colors.green600,e.colors.yellow600,e.colors.red600,e.colors.blue700,e.colors.green700,e.colors.yellow700,e.colors.red700],[e]),n=(0,o.useCallback)(e=>t[e%t.length],[t]);return{chartColors:t,getChartColor:n}}function f(e,t){const[n,a]=(0,o.useState)(e),[r,s]=(0,o.useState)(null),[i,l]=(0,o.useState)(null),[c,d]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),g=(0,o.useRef)(e);(0,o.useEffect)(()=>{g.current!==e&&(a(e),m(!1),s(null),l(null),g.current=e)},[e]);const f=(0,o.useCallback)(e=>{e.activeLabel&&(s(e.activeLabel),l(e.activeLabel),d(!0))},[]),h=(0,o.useCallback)(e=>{c&&e.activeLabel&&l(e.activeLabel)},[c]),p=(0,o.useCallback)(()=>{if(!c||null===r||null===i)return void d(!1);let n=e.findIndex(e=>e[t]===r),o=e.findIndex(e=>e[t]===i);n>o&&([n,o]=[o,n]),n>=0&&o>=0&&o-n>=1&&(a(e.slice(n,o+1)),m(!0)),s(null),l(null),d(!1)},[c,r,i,e,t]),v=(0,o.useCallback)(()=>{a(e),m(!1),s(null),l(null)},[e]);return{zoomedData:n,isZoomed:u,refAreaLeft:r,refAreaRight:i,handleMouseDown:f,handleMouseMove:h,handleMouseUp:p,zoomOut:v}}},84411:function(e,t,n){n.d(t,{$:function(){return T}});var o=n(68248),a=n(46709),r=n(82716),s=n(27757),i=n(79081),l=n(21723),c=n(42747),d=n(92338),u=n(14429),m=n(76118),g=n(16453),f=n(79444),h=n(39595),p=n(92388),v=n(73408);const T=a.memo(function({excludeOptions:e,refreshButtonComponentId:t="mlflow.experiment-evaluation-monitoring.refresh-date-button"}){const n=(0,c.tz)(),{theme:T}=(0,s.u)(),y=((0,h.jE)(),(0,p.C)({queryKey:[l.TH]})),[b,S]=(0,u.VA)(),Y=(0,a.useMemo)(()=>{const t=(0,d.p)(n);return null!==e&&void 0!==e&&e.length?t.filter(t=>!e.includes(t.key)):t},[n,e]),x=n.formatMessage({id:"BJvcsS",defaultMessage:"Time Range"}),C=(0,f.U)();return(0,v.FD)("div",{css:(0,o.AH)({display:"flex",gap:T.spacing.sm,alignItems:"center"},""),children:[(0,v.FD)(r.DialogCombobox,{componentId:"mlflow.experiment-evaluation-monitoring.date-selector",label:x,value:b.startTimeLabel?[b.startTimeLabel]:[u.oy],children:[(0,v.Y)(r.DialogComboboxTrigger,{renderDisplayedValue:e=>{var t;return null===(t=Y.find(t=>t.key===e))||void 0===t?void 0:t.label},allowClear:!(0,m.isNil)(b.startTimeLabel)&&b.startTimeLabel!==u.oy,onClear:()=>{S({startTimeLabel:u.oy})},"data-testid":"time-range-select-dropdown"}),(0,v.Y)(r.DialogComboboxContent,{children:(0,v.Y)(r.DialogComboboxOptionList,{children:Y.map(e=>(0,v.Y)(r.DialogComboboxOptionListSelectItem,{checked:b.startTimeLabel===e.key||e.key===u.oy&&(0,m.isNil)(b.startTimeLabel),title:e.label,"data-testid":`time-range-select-${e}`,value:e.key,onChange:()=>{S({...b,startTimeLabel:e.key})},children:e.label},e.key))})})]}),"CUSTOM"===b.startTimeLabel&&(0,v.Y)(v.FK,{children:(0,v.Y)(g.cv,{id:"date-picker-range",includeTime:!0,selected:{from:new Date(b.startTime),to:b.endTime?new Date(b.endTime):C.dateNow},onChange:e=>{const t=e.target.value;S({...b,startTime:null!==t&&void 0!==t&&t.from?t.from.toISOString():void 0,endTime:null!==t&&void 0!==t&&t.to?t.to.toISOString():void 0})},startDatePickerProps:{componentId:"experiment-evaluation-monitoring-start-date-picker",datePickerProps:{disabled:{after:C.dateNow}},value:b.startTime?new Date(b.startTime):void 0},endDatePickerProps:{componentId:"experiment-evaluation-monitoring-end-date-picker",datePickerProps:{disabled:{after:C.dateNow}},value:b.endTime?new Date(b.endTime):void 0}})}),(0,v.Y)(i.T,{componentId:"mlflow.experiment-evaluation-monitoring.trace-info-hover-request-time",content:n.formatMessage({id:"Arvaod",defaultMessage:"Showing data up to {date}."},{date:C.dateNow.toLocaleString(navigator.language,{timeZoneName:"short"})}),children:(0,v.Y)(s.B,{type:"link",componentId:t,disabled:Boolean(y),onClick:()=>{C.refresh()},children:(0,v.Y)(r.RefreshIcon,{})})})]})})},90935:function(e,t,n){n.d(t,{J:function(){return a}});var o=n(36476);async function a(e){if(e instanceof o.Un){var t;const n=await(null===(t=e.response)||void 0===t?void 0:t.json());e.message=null===n||void 0===n?void 0:n.message}throw e}},92338:function(e,t,n){function o(e){return[{key:"LAST_HOUR",label:e.formatMessage({id:"bjoGjg",defaultMessage:"Last hour"})},{key:"LAST_24_HOURS",label:e.formatMessage({id:"JChRnq",defaultMessage:"Last 24 hours"})},{key:"LAST_7_DAYS",label:e.formatMessage({id:"eQsXm7",defaultMessage:"Last 7 days"})},{key:"LAST_30_DAYS",label:e.formatMessage({id:"p1H1KR",defaultMessage:"Last 30 days"})},{key:"LAST_YEAR",label:e.formatMessage({id:"EI7moF",defaultMessage:"Last year"})},{key:"ALL",label:e.formatMessage({id:"HeNa8H",defaultMessage:"All"})},{key:"CUSTOM",label:e.formatMessage({id:"TpmJlu",defaultMessage:"Custom"})}]}n.d(t,{p:function(){return o}})}}]);