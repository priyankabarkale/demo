"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[4783],{13479:function(){},27042:function(e,t,a){a.d(t,{Q:function(){return k}});var n=a(68248),l=a(76118),o=a(46709),s=a(27757),i=a(79081),r=a(82716),d=a(7655),c=a(40724),m=a(884),u=a(73408);var g={name:"4zleql",styles:"display:block"};function p(e){return t=>function(e,t){const a=(0,d.A)(),{theme:c}=(0,s.u)(),m=e.props.searchValue.toLowerCase();return(0,o.useMemo)(()=>{if(!m)return e;if((0,l.sortedIndexOf)(t,m)>=0)return e;const s=/^[^,.:/=\-\s]+$/.test(m);return o.cloneElement(e,{flattenOptions:[{data:{value:m,disabled:!s,style:{color:s?c.colors.actionTertiaryTextDefault:c.colors.actionDisabledText},children:(0,u.Y)(i.T,{content:s?void 0:a.formatMessage({id:"fWEvZL",defaultMessage:", . : / - = and blank spaces are not allowed"}),componentId:"mlflow.common.components.tag-select-dropdown.add-new-tag-tooltip",side:"right",children:(0,u.FD)("span",{css:g,children:[(0,u.Y)(r.PlusIcon,{css:(0,n.AH)({marginRight:c.spacing.sm},"")}),a.formatMessage({id:"IJbauF",defaultMessage:'Add tag "{tagKey}"'},{tagKey:m})]})})},key:m,groupOption:!1},...e.props.flattenOptions]})},[t,e,m,a,c])}(t,e)}var h={name:"1d3w5wq",styles:"width:100%"};function f({allAvailableTags:e,control:t,onKeyChangeCallback:a}){const n=(0,d.A)(),[l,s]=(0,o.useState)(!1),i=(0,o.useRef)(null),{field:c,fieldState:g}=(0,m.as)({control:t,name:"key",rules:{required:{message:n.formatMessage({id:"RlBbjb",defaultMessage:"A tag key is required"}),value:!0}}});return(0,u.Y)(r.LegacySelect,{allowClear:!0,ref:i,dangerouslySetAntdProps:{showSearch:!0,dropdownRender:p(e)},css:h,placeholder:n.formatMessage({id:"8ALhnh",defaultMessage:"Type a key"}),value:c.value,defaultValue:c.value,open:l,onDropdownVisibleChange:e=>{s(e)},filterOption:(e,t)=>null===t||void 0===t?void 0:t.value.toLowerCase().includes(e.toLowerCase()),onSelect:e=>{c.onChange(e),null===a||void 0===a||a(e)},onClear:()=>{c.onChange(void 0),null===a||void 0===a||a(void 0)},validationState:g.error?"error":void 0,children:e.map(e=>(0,u.Y)(r.LegacySelect.Option,{value:e,children:e},e))})}var v=a(59281),_=a(77153);function y(e){return new Map(e.map(e=>[e.key,e]))}var w={name:"82a6rk",styles:"flex:1"},x={name:"82a6rk",styles:"flex:1"};const k=({onSuccess:e,saveTagsHandler:t,allAvailableTags:a,valueRequired:g=!1,title:p})=>{const h=(0,o.useRef)(),[k,b]=(0,o.useState)(""),{theme:T}=(0,s.u)(),[M,C]=(0,o.useState)(new Map),[S,F]=(0,o.useState)(new Map),[I,A]=(0,o.useState)(!1),D=(0,m.mN)({defaultValues:{key:void 0,value:""}}),E=()=>A(!1),P=(0,o.useCallback)(e=>{h.current=e,C(y(e.tags||[])),F(y(e.tags||[])),D.reset(),A(!0)},[D]),R=async()=>{h.current&&(b(""),L(!0),t(h.current,Array.from(M.values()),Array.from(S.values())).then(()=>{E(),null===e||void 0===e||e(),L(!1)}).catch(e=>{var t;L(!1),b(e instanceof _.s?null===(t=e.getUserVisibleError())||void 0===t?void 0:t.message:e.message)}))},V=(0,d.A)(),H=D.watch(),[B,L]=(0,o.useState)(!1),O=(0,o.useMemo)(()=>!(0,l.isEqual)((0,l.sortBy)(Array.from(M.values()),"key"),(0,l.sortBy)(Array.from(S.values()),"key")),[M,S]),N=H.key||H.value,K=O&&N;return{EditTagsModal:(0,u.FD)(i.d,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_135",destroyOnClose:!0,visible:I,title:null!==p&&void 0!==p?p:(0,u.Y)(c.A,{id:"TBX+Gs",defaultMessage:"Add/Edit tags"}),onCancel:E,footer:(0,u.FD)(s.x,{children:[(0,u.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_147",dangerouslyUseFocusPseudoClass:!0,onClick:E,css:(0,n.AH)({marginRight:O?0:T.spacing.sm},""),children:V.formatMessage({id:"2a/rR8",defaultMessage:"Cancel"})}),K?(0,u.Y)(Y,{formValues:H,isLoading:B,onSaveTask:R}):(0,u.Y)(i.T,{content:O?void 0:V.formatMessage({id:"16onEc",defaultMessage:"Please add or remove one or more tags before saving"}),componentId:"mlflow.common.hooks.useeditkeyvaluetagsmodal.tooltip",children:(0,u.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_174",dangerouslyUseFocusPseudoClass:!0,disabled:!O,loading:B,type:"primary",onClick:R,children:V.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})})]}),children:[(0,u.FD)("form",{onSubmit:D.handleSubmit(()=>{if(g&&!H.value.trim())return;const e=new Map(S);e.set(H.key,H),F(e),D.reset()}),css:(0,n.AH)({display:"flex",alignItems:"flex-end",gap:T.spacing.md},""),children:[(0,u.FD)("div",{css:(0,n.AH)({minWidth:0,display:"flex",gap:T.spacing.md,flex:1},""),children:[(0,u.FD)("div",{css:w,children:[(0,u.Y)(r.FormUI.Label,{htmlFor:"key",children:V.formatMessage({id:"crTWax",defaultMessage:"Key"})}),(0,u.Y)(f,{allAvailableTags:a||[],control:D.control,onKeyChangeCallback:e=>{var t;const a=e?S.get(e):void 0;D.setValue("value",null!==(t=null===a||void 0===a?void 0:a.value)&&void 0!==t?t:"")}})]}),(0,u.FD)("div",{css:x,children:[(0,u.Y)(r.FormUI.Label,{htmlFor:"value",children:g?V.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):V.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"})}),(0,u.Y)(r.RHFControlledComponents.Input,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_223",name:"value",control:D.control,"aria-label":g?V.formatMessage({id:"tHrp+A",defaultMessage:"Value"}):V.formatMessage({id:"4B8k46",defaultMessage:"Value (optional)"}),placeholder:V.formatMessage({id:"FFe+Ug",defaultMessage:"Type a value"})})]})]}),(0,u.Y)(i.T,{content:V.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),componentId:"mlflow.common.hooks.useeditkeyvaluetagsmodal.add-tag-tooltip",children:(0,u.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_248",htmlType:"submit","aria-label":V.formatMessage({id:"tx3aAM",defaultMessage:"Add tag"}),children:(0,u.Y)(r.PlusIcon,{})})})]}),k&&(0,u.Y)(r.FormUI.Message,{type:"error",message:k}),(0,u.Y)("div",{css:(0,n.AH)({display:"flex",rowGap:T.spacing.xs,flexWrap:"wrap",marginTop:T.spacing.sm},""),children:Array.from(S.values()).map(e=>(0,u.Y)(v.t,{isClosable:!0,tag:e,onClose:()=>(({key:e})=>{F(t=>(t.delete(e),new Map(t)))})(e)},e.key))})]}),showEditTagsModal:P,isLoading:B}};var b={name:"1y0ex1",styles:"max-width:400px"};function Y({isLoading:e,formValues:t,onSaveTask:a}){const o=(0,d.A)(),{theme:i}=(0,s.u)(),r=`${`${(0,l.truncate)(t.key,{length:20})||"_"}`}${t.value?`:${(0,l.truncate)(t.value,{length:20})}`:""}`,c=o.formatMessage({id:"wcSVYI",defaultMessage:'Are you sure you want to save and close without adding "{tag}"'},{tag:r});return(0,u.FD)(s.aw.Root,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_309",children:[(0,u.Y)(s.aw.Trigger,{asChild:!0,children:(0,u.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_306",dangerouslyUseFocusPseudoClass:!0,loading:e,type:"primary",children:o.formatMessage({id:"801Xh4",defaultMessage:"Save tags"})})}),(0,u.FD)(s.aw.Content,{align:"end","aria-label":c,children:[(0,u.Y)(s.T.Paragraph,{css:b,children:c}),(0,u.Y)(s.aw.Close,{asChild:!0,children:(0,u.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_316",onClick:a,children:o.formatMessage({id:"mv6CY3",defaultMessage:"Yes, save and close"})})}),(0,u.Y)(s.aw.Close,{asChild:!0,children:(0,u.Y)(s.B,{componentId:"codegen_mlflow_app_src_common_hooks_useeditkeyvaluetagsmodal.tsx_324",type:"primary",css:(0,n.AH)({marginLeft:i.spacing.sm},""),children:o.formatMessage({id:"geizp1",defaultMessage:"Cancel"})})}),(0,u.Y)(s.aw.Arrow,{})]})]})}},34783:function(e,t,a){a.r(t),a.d(t,{ExperimentListView:function(){return H},default:function(){return B}});var n=a(68248),l=a(46709),o=a(27757),s=a(79081),i=a(82716),r=(a(13479),a(60284)),d=a(60329),c=a(26158),m=a(7655),u=a(40724),g=a(60312),p=a(76842),h=a(91105),f=a(84561),v=a(5690),_=a(56530),y=a(11522),w=a(73408);const x=({isOpen:e,onClose:t,experiments:a,onExperimentsDeleted:n})=>{const l=(0,_.wA)();return(0,w.Y)(f.u,{isOpen:e,onClose:t,handleSubmit:()=>Promise.all(a.map(e=>l((0,v.lJ)(e.experimentId)))).then(n).catch(e=>y.A.logErrorAndNotifyUser(e)),title:(0,w.Y)(u.A,{id:"Epo8/i",defaultMessage:"Delete {count, plural, one {# Experiment} other {# Experiments}}",values:{count:a.length}}),helpText:(0,w.FD)("div",{children:[(0,w.Y)(o.T.Paragraph,{children:"The following experiments will be deleted:"}),(0,w.Y)(o.T.Paragraph,{children:(0,w.Y)("ul",{children:a.map(e=>(0,w.Y)("li",{children:(0,w.FD)(o.T.Text,{children:[e.name," (ID: ",e.experimentId,")"]})},e.experimentId))})})]}),confirmButtonText:(0,w.Y)(u.A,{id:"9KLNi5",defaultMessage:"Delete"}),confirmButtonProps:{danger:!0}})};var k=a(77153),b=a(61060),Y=a(27042),T=a(181),M=a(12803);const C=["IS","IS NOT","CONTAINS"];function S(e){return[e.key,e.operator,e.value].join("-")}function F(e){const t=e.split("-");if(t.length>=3&&function(e){return C.includes(e)}(t[1])){const[e,a,...n]=t;return{key:e,operator:a,value:n.join("-")}}return null}var I=a(884);const A={key:"",value:"",operator:"IS"};var D={name:"isq613",styles:"min-width:14ch"},E={name:"1eoy87d",styles:"display:flex;justify-content:space-between"};function P({tagsFilter:e,setTagsFilter:t}){const{control:a,handleSubmit:s}=(0,I.mN)({defaultValues:{tagsFilter:0===e.length?[A]:e}}),{fields:r,append:d,remove:c}=(0,I.jz)({control:a,name:"tagsFilter"}),{theme:g}=(0,o.u)(),{formatMessage:p}=(0,m.A)(),h={fontWeight:g.typography.typographyBoldFontWeight},f={key:p({id:"/k7Xvj",defaultMessage:"Key"}),operator:p({id:"JDpv0G",defaultMessage:"Operator"}),value:p({id:"OH7hV5",defaultMessage:"Value"})};return(0,w.FD)("form",{onSubmit:s(e=>t(e.tagsFilter)),css:(0,n.AH)({display:"flex",flexDirection:"column",gap:g.spacing.md,padding:g.spacing.md},""),children:[(0,w.FD)("fieldset",{css:(0,n.AH)({display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:g.spacing.sm},""),children:[(0,w.Y)("label",{htmlFor:`${r[0].id}-key`,css:h,children:f.key}),(0,w.Y)("label",{htmlFor:`${r[0].id}-op`,css:h,children:f.operator}),(0,w.Y)("label",{htmlFor:`${r[0].id}-value`,css:h,children:f.value}),(0,w.Y)("label",{}),r.map((e,t)=>(0,w.FD)(l.Fragment,{children:[(0,w.Y)(i.RHFControlledComponents.Input,{id:`${e.id}-key`,componentId:"codegen_no_dynamic_mlflow_web_js_src_experiment_tracking_components_experiment_page_components_experimentlistviewtagsfilter_69",name:`tagsFilter.${t}.key`,control:a,"aria-label":f.key,placeholder:f.key,required:!0}),(0,w.Y)(i.RHFControlledComponents.LegacySelect,{id:`${e.id}-op`,name:`tagsFilter.${t}.operator`,control:a,options:C.map(e=>({key:e,value:e})),"aria-label":f.operator,css:D}),(0,w.Y)(i.RHFControlledComponents.Input,{id:`${e.id}-value`,componentId:"codegen_no_dynamic_mlflow_web_js_src_experiment_tracking_components_experiment_page_components_experimentlistviewtagsfilter_87",name:`tagsFilter.${t}.value`,control:a,"aria-label":f.value,placeholder:f.value,required:!0}),(0,w.Y)(o.B,{componentId:"codegen_no_dynamic_mlflow_web_js_src_experiment_tracking_components_experiment_page_components_experimentlistviewtagsfilter_96",type:"tertiary",onClick:()=>c(t),disabled:1===r.length,"aria-label":p({id:"l8Z2nP",defaultMessage:"Remove filter"}),children:(0,w.Y)(o.C,{})})]},e.id))]}),(0,w.FD)("div",{css:E,children:[(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.tag_filter.add_filter_button",onClick:()=>d(A),icon:(0,w.Y)(i.PlusIcon,{}),children:(0,w.Y)(u.A,{id:"rY00Iw",defaultMessage:"Add filter"})}),(0,w.FD)("div",{css:(0,n.AH)({display:"flex",gap:g.spacing.sm},""),children:[(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.tag_filter.clear_filters_button",onClick:()=>t([]),children:(0,w.Y)(u.A,{id:"NPlcrl",defaultMessage:"Clear filters"})}),(0,w.Y)(o.B,{htmlType:"submit",componentId:"mlflow.experiment_list_view.tag_filter.apply_filters_button",type:"primary",children:(0,w.Y)(u.A,{id:"sWbj1n",defaultMessage:"Apply filters"})})]})]})]})}var R={name:"1m5f2z8",styles:"overflow:hidden;display:flex;flex-direction:column"},V={name:"xt6tct",styles:"flex:1;display:flex;flex-direction:column;overflow:hidden"};const H=()=>{const[e,t]=function(){var e;const t="experimentSearchFilter",[a,n]=(0,h.ok)();return[null!==(e=a.get(t))&&void 0!==e?e:"",function(e){e?a.set(t,e):a.delete(t),n(a)}]}(),{tagsFilter:a,setTagsFilter:f,isTagsFilterOpen:v,setIsTagsFilterOpen:_}=function(){const[e,t]=(0,l.useState)(!1),a="experimentTagsFilter",[n,o]=(0,h.ok)();return{tagsFilter:(0,l.useMemo)(()=>{var e;return(null!==(e=n.getAll(a))&&void 0!==e?e:[]).map(F).filter(e=>null!==e)},[n]),setTagsFilter:function(e){n.delete(a);const l=e.filter(e=>""!==e.key&&""!==e.value);if(0!==l.length)for(const t of l)n.append(a,S(t));o(n),t(!1)},isTagsFilterOpen:e,setIsTagsFilterOpen:t}}(),{data:y,isLoading:C,error:I,hasNextPage:A,hasPreviousPage:D,onNextPage:E,onPreviousPage:H,pageSizeSelect:B,sorting:L,setSorting:O}=(0,c.f)({searchFilter:e,tagsFilter:a}),N=(0,c.M)(),{EditTagsModal:K,showEditExperimentTagsModal:j}=(({onSuccess:e})=>{const t=(0,b.n)({mutationFn:async({toAdd:e,toDelete:t,experimentId:a})=>Promise.all([...e.map(({key:e,value:t})=>M.x.setExperimentTag({experiment_id:a,key:e,value:t})),...t.map(({key:e})=>M.x.deleteExperimentTag({experiment_id:a,key:e}))])}),{EditTagsModal:a,showEditTagsModal:n,isLoading:o}=(0,Y.Q)({valueRequired:!0,saveTagsHandler:(a,n,l)=>{const{addedOrModifiedTags:o,deletedTags:s}=(0,T.Rf)(n,l);return new Promise((n,l)=>{if(!a)return l();t.mutate({experimentId:a.experimentId,toAdd:o,toDelete:s},{onSuccess:()=>{n(),null===e||void 0===e||e()},onError:l})})}});return{EditTagsModal:a,showEditExperimentTagsModal:(0,l.useCallback)(e=>n({experimentId:e.experimentId,name:e.name,tags:e.tags.filter(e=>(0,T.oD)(e.key))}),[n]),isLoading:o}})({onSuccess:N}),[q,U]=(0,l.useState)({}),[W,$]=(0,l.useState)(""),[z,Z]=(0,l.useState)(!1),[G,Q]=(0,l.useState)(!1),{theme:X}=(0,o.u)(),J=(0,h.Zp)(),ee=(0,m.A)(),te=Object.entries(q).filter(([e,t])=>t).map(([e,t])=>e);return(0,w.FD)(g.m,{css:R,children:[(0,w.Y)(s.S,{shrinks:!1}),(0,w.Y)(i.Header,{title:(0,w.Y)(u.A,{id:"ZqHpEG",defaultMessage:"Experiments"}),buttons:(0,w.FD)(w.FK,{children:[(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.new_experiment_button",type:"primary",onClick:()=>{Z(!0)},"data-testid":"create-experiment-button",children:(0,w.Y)(u.A,{id:"9ut1Fj",defaultMessage:"Create"})}),(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.compare_experiments_button",onClick:()=>{const e=r.Ay.getCompareExperimentsPageRoute(te);J(e)},"data-testid":"compare-experiment-button",disabled:te.length<2,children:(0,w.Y)(u.A,{id:"YECxws",defaultMessage:"Compare"})}),(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.bulk_delete_button",onClick:()=>Q(!0),"data-testid":"delete-experiments-button",disabled:te.length<1,danger:!0,children:(0,w.Y)(u.A,{id:"L/4iQO",defaultMessage:"Delete"})})]})}),(0,w.Y)(s.S,{shrinks:!1}),I&&(0,w.Y)(i.Alert,{css:(0,n.AH)({marginBlockEnd:X.spacing.sm},""),type:"error",message:I instanceof k.s?I.getMessageField():I.message||(0,w.Y)(u.A,{id:"9Bj7oS",defaultMessage:"A network error occurred."}),componentId:"mlflow.experiment_list_view.error",closable:!1}),(0,w.FD)("div",{css:V,children:[(0,w.FD)(i.TableFilterLayout,{children:[(0,w.Y)(i.TableFilterInput,{"data-testid":"search-experiment-input",placeholder:ee.formatMessage({id:"9vT4HV",defaultMessage:"Filter experiments by name"}),componentId:"mlflow.experiment_list_view.search",defaultValue:e,onChange:e=>{$(e.target.value)},onSubmit:()=>{t(W)},onClear:()=>{t("")},showSearchButton:!0}),(0,w.FD)(o.aw.Root,{componentId:"mlflow.experiment_list_view.tag_filter",open:v,onOpenChange:_,children:[(0,w.Y)(o.aw.Trigger,{asChild:!0,children:(0,w.Y)(o.B,{componentId:"mlflow.experiment_list_view.tag_filter.trigger",icon:(0,w.Y)(i.FilterIcon,{}),endIcon:(0,w.Y)(i.ChevronDownIcon,{}),type:a.length>0?"primary":void 0,children:(0,w.Y)(u.A,{id:"55mClg",defaultMessage:"Tag filter"})})}),(0,w.Y)(o.aw.Content,{children:(0,w.Y)(P,{tagsFilter:a,setTagsFilter:f})})]})]}),(0,w.Y)(p.k,{experiments:y,isLoading:C,isFiltered:Boolean(e),rowSelection:q,setRowSelection:U,cursorPaginationProps:{hasNextPage:A,hasPreviousPage:D,onNextPage:E,onPreviousPage:H,pageSizeSelect:B},sortingProps:{sorting:L,setSorting:O},onEditTags:j})]}),(0,w.Y)(d.D,{isOpen:z,onClose:()=>{Z(!1)},onExperimentCreated:N}),(0,w.Y)(x,{experiments:(null!==y&&void 0!==y?y:[]).filter(({experimentId:e})=>te.includes(e)),isOpen:G,onClose:()=>Q(!1),onExperimentsDeleted:()=>{N(),U({})}}),K]})};var B=H},59281:function(e,t,a){a.d(t,{t:function(){return f}});var n=a(68248),l=a(82716),o=a(79081),s=a(27757),i=a(46709),r=a(7655),d=a(91701),c=a(73408);const{Paragraph:m}=s.T;var u={name:"zjik7",styles:"display:flex"},g={name:"1ff36h2",styles:"flex-grow:1"};const p=i.memo(e=>{const{theme:t}=(0,s.u)();return(0,c.Y)(o.d,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetagfullviewmodal.tsx_17",title:"Tag: "+e.tagKey,visible:e.isKeyValueTagFullViewModalVisible,onCancel:()=>e.setIsKeyValueTagFullViewModalVisible(!1),children:(0,c.FD)("div",{css:u,children:[(0,c.Y)(m,{css:g,children:(0,c.Y)("pre",{css:(0,n.AH)({backgroundColor:t.colors.backgroundPrimary,marginTop:t.spacing.sm,whiteSpace:"pre-wrap",wordBreak:"break-all"},""),children:e.tagValue})}),(0,c.Y)("div",{css:(0,n.AH)({marginTop:t.spacing.sm},""),children:(0,c.Y)(d.i,{copyText:e.tagValue,showLabel:!1,icon:(0,c.Y)(l.CopyIcon,{}),"aria-label":"Copy"})})]})})});function h(e=!0){return e?{overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap",whiteSpace:"nowrap"}:{whiteSpace:"nowrap"}}const f=({isClosable:e=!1,onClose:t,tag:a,enableFullViewModal:d=!1,charLimit:m=30,maxWidth:u=300,className:g})=>{const f=(0,r.A)(),[v,_]=(0,i.useState)(!1),{shouldTruncateKey:y,shouldTruncateValue:w}=function(e,t=30){const{key:a,value:n}=e,l=a.length+n.length,o=a.length>n.length,s=o?n.length:a.length;return l<=t?{shouldTruncateKey:!1,shouldTruncateValue:!1}:s>t/2?{shouldTruncateKey:!0,shouldTruncateValue:!0}:{shouldTruncateKey:o,shouldTruncateValue:!o}}(a,m),x=d&&(y||w),k=f.formatMessage({id:"ZXUtU8",defaultMessage:"Click to see more"});return(0,c.FD)("div",{children:[(0,c.Y)(l.Tag,{componentId:"codegen_mlflow_app_src_common_components_keyvaluetag.tsx_60",closable:e,onClose:t,title:a.key,className:g,children:(0,c.Y)(o.T,{content:x?k:"",componentId:"mlflow.common.components.key-value-tag.tooltip",children:(0,c.FD)("span",{css:(0,n.AH)({maxWidth:u,display:"inline-flex"},""),onClick:()=>x?_(!0):void 0,children:[(0,c.Y)(s.T.Text,{bold:!0,title:a.key,css:h(y),children:a.key}),a.value&&(0,c.FD)(s.T.Text,{title:a.value,css:h(w),children:[": ",a.value]})]})})}),(0,c.Y)("div",{children:v&&(0,c.Y)(p,{tagKey:a.key,tagValue:a.value,isKeyValueTagFullViewModalVisible:v,setIsKeyValueTagFullViewModalVisible:_})})]})}},60312:function(e,t,a){a.d(t,{m:function(){return s}});var n=a(82716),l=a(73408);var o={name:"13udsys",styles:"height:100%"};const s=({children:e,className:t})=>(0,l.Y)(n.PageWrapper,{css:o,className:t,children:e})},76256:function(e,t,a){a.d(t,{L:function(){return l},S:function(){return o}});var n=a(43617);function l(e,t){return(0,n.N4)(t)}const o=n.N4},76842:function(e,t,a){a.d(t,{k:function(){return b}});var n=a(68248),l=a(76256),o=a(46709),s=a(82716),i=a(27757),r=(a(13479),a(90061)),d=a(43617),c=a(76118),m=a(7655),u=a(40724),g=a(11522),p=a(91105),h=a(60284),f=a(59281),v=a(181),_=a(73408);var y={name:"zjik7",styles:"display:flex"},w={name:"tyk0n8",styles:"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex"},x={name:"14cnl6e",styles:"flex-shrink:0;opacity:0;[role=row]:hover &{opacity:1;}[role=row]:focus-within &{opacity:1;}"};const k=({row:{original:e},table:{options:{meta:t}}})=>{var a;const n=(0,m.A)(),{onEditTags:l}=t,o=(null===e||void 0===e||null===(a=e.tags)||void 0===a?void 0:a.filter(e=>(0,v.oD)(e.key)))||[],r=o.length>0;return(0,_.FD)("div",{css:y,children:[(0,_.Y)("div",{css:w,children:null===o||void 0===o?void 0:o.map(e=>(0,_.Y)(f.t,{tag:e},e.key))}),(0,_.Y)(i.B,{componentId:"mlflow.experiment.list.tag.add",size:"small",icon:r?(0,_.Y)(s.PencilIcon,{}):void 0,onClick:()=>null===l||void 0===l?void 0:l(e),"aria-label":n.formatMessage({id:"Vk+30L",defaultMessage:"Edit tags"}),css:x,type:"tertiary",children:r?void 0:(0,_.Y)(u.A,{id:"cI0kqF",defaultMessage:"Add tags"})})]})};const b=({experiments:e,isFiltered:t,isLoading:a,rowSelection:p,setRowSelection:h,cursorPaginationProps:f,sortingProps:{sorting:v,setSorting:y},onEditTags:w})=>{const{theme:x}=(0,i.u)(),b=(()=>{const e=(0,m.A)();return(0,o.useMemo)(()=>[{header:({table:e})=>(0,_.Y)(s.Checkbox,{componentId:"mlflow.experiment_list_view.check_all_box",isChecked:e.getIsSomeRowsSelected()?null:e.getIsAllRowsSelected(),onChange:(t,a)=>e.getToggleAllRowsSelectedHandler()(a)}),id:"select",cell:M,enableSorting:!1},{header:e.formatMessage({id:"QhEnTA",defaultMessage:"Name"}),accessorKey:"name",id:"name",cell:T,enableSorting:!0},{header:e.formatMessage({id:"JUTcIz",defaultMessage:"Time created"}),id:"creation_time",accessorFn:({creationTime:t})=>g.A.formatTimestamp(t,e),enableSorting:!0},{header:e.formatMessage({id:"l/+0SR",defaultMessage:"Last modified"}),id:"last_update_time",accessorFn:({lastUpdateTime:t})=>g.A.formatTimestamp(t,e),enableSorting:!0},{header:e.formatMessage({id:"STEhnv",defaultMessage:"Description"}),id:"description",accessorFn:({tags:e})=>{var t,a;return null!==(t=null===e||void 0===e||null===(a=e.find(({key:e})=>"mlflow.note.content"===e))||void 0===a?void 0:a.value)&&void 0!==t?t:"-"},enableSorting:!1},{header:e.formatMessage({id:"BB6In/",defaultMessage:"Tags"}),id:"tags",accessorKey:"tags",enableSorting:!1,cell:k}],[e])})(),Y=(0,l.L)("mlflow/server/js/src/experiment-tracking/components/ExperimentListTable.tsx",{data:null!==e&&void 0!==e?e:[],columns:b,getCoreRowModel:(0,r.HT)(),getRowId:e=>e.experimentId,enableRowSelection:!0,enableMultiRowSelection:!0,onRowSelectionChange:h,onSortingChange:y,state:{rowSelection:p,sorting:v},meta:{onEditTags:w}}),C={flex:"none",height:x.general.heightBase};return(0,_.FD)(s.Table,{scrollable:!0,pagination:f?(0,_.Y)(s.CursorPagination,{...f,componentId:"mlflow.experiment_list_view.pagination"}):void 0,empty:(()=>{const n=!a&&(0,c.isEmpty)(e);return n&&t?(0,_.Y)(s.Empty,{image:(0,_.Y)(s.NoIcon,{}),title:(0,_.Y)(u.A,{id:"QRnRh3",defaultMessage:"No experiments found"}),description:null}):n?(0,_.Y)(s.Empty,{title:(0,_.Y)(u.A,{id:"dcoaGS",defaultMessage:"No experiments created"}),description:(0,_.Y)(u.A,{id:"Zt2Uxi",defaultMessage:'Use "Create experiment" button in order to create a new experiment'})}):null})(),children:[(0,_.Y)(s.TableRow,{isHeader:!0,children:Y.getLeafHeaders().map(e=>(0,_.Y)(s.TableHeader,{componentId:"mlflow.experiment_list_view.table.header",css:"select"===e.column.id?C:void 0,sortable:e.column.getCanSort(),sortDirection:e.column.getIsSorted()||"none",onToggleSort:e.column.getToggleSortingHandler(),children:(0,d.Kv)(e.column.columnDef.header,e.getContext())},e.id))}),a?(0,_.Y)(s.TableSkeletonRows,{table:Y}):Y.getRowModel().rows.map(e=>(0,_.Y)(s.TableRow,{css:(0,n.AH)({height:x.general.buttonHeight},""),"data-testid":"experiment-list-item",children:e.getAllCells().map(e=>(0,_.Y)(s.TableCell,{css:(0,n.AH)({alignItems:"center",..."select"===e.column.id?C:void 0},""),children:(0,d.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))]})};var Y={name:"1d4xjjz",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1"};const T=({row:{original:e}})=>(0,_.Y)(p.N_,{className:"experiment-link",css:Y,to:h.Ay.getExperimentPageRoute(e.experimentId),title:e.name,"data-testid":"experiment-list-item-link",children:e.name}),M=({row:e})=>(0,_.Y)(s.Checkbox,{componentId:"mlflow.experiment_list_view.check_box",id:e.original.experimentId,"data-testid":"experiment-list-item-check-box",isChecked:e.getIsSelected(),disabled:!e.getCanSelect(),onChange:e.getToggleSelectedHandler()},e.original.experimentId)},84561:function(e,t,a){a.d(t,{u:function(){return s}});var n=a(46709),l=a(79081),o=a(73408);class s extends n.Component{constructor(e){super(e),this.state={isSubmitting:!1},this.onRequestCloseHandler=this.onRequestCloseHandler.bind(this),this.handleSubmitWrapper=this.handleSubmitWrapper.bind(this)}onRequestCloseHandler(){this.state.isSubmitting||this.props.onClose()}handleSubmitWrapper(){return this.setState({isSubmitting:!0}),this.props.handleSubmit().finally(()=>{this.props.onClose(),this.setState({isSubmitting:!1})})}render(){return(0,o.Y)(l.d,{"data-testid":"confirm-modal",title:this.props.title,visible:this.props.isOpen,onOk:this.handleSubmitWrapper,okText:this.props.confirmButtonText,okButtonProps:this.props.confirmButtonProps,confirmLoading:this.state.isSubmitting,onCancel:this.onRequestCloseHandler,centered:!0,children:(0,o.Y)("div",{className:"modal-explanatory-text",children:this.props.helpText})})}}}}]);